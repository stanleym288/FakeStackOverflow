{"ast":null,"code":"var _jsxFileName = \"/Users/stanleymui/pa04-crispy/client/src/components/ansdisplayquestion.js\",\n  _s = $RefreshSig$();\nimport Dateandname from \"./askbydate\";\nimport React from \"react\";\nimport { useState, useRef } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AnswerDisplayQuestion = ({\n  tags,\n  username,\n  reputation,\n  questions,\n  answers,\n  setQuestions,\n  setAnswers,\n  currentQuestionClicked,\n  handleAnsQuestion,\n  handleAskQuestion\n}) => {\n  _s();\n  // get all comments\n  const [comments, setComments] = useState;\n  useEffect(() => {\n    axios.get('http://localhost:8000/questions').then(res => {\n      setQuestions(res.data);\n      console.log(\"questions\", res.data);\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, []);\n\n  // state for page stuff\n  const [currentPage, setCurrentPage] = useState(0);\n  const container = useRef(null);\n  const handleResetScroll = () => {\n    if (container.current) {\n      container.current.scrollTop = 0;\n    }\n  };\n  const [currentQuestionComment, setCurrentQuestionComment] = useState(\"\");\n  let arrayofQuestions = [...questions].sort(function (q1, q2) {\n    let q2Date = new Date(q2.asked_date_time);\n    let q1Date = new Date(q1.asked_date_time);\n    return q2Date - q1Date;\n  });\n  let arrayofAnswers = [...answers];\n\n  // obtain the question\n  var indexQuestion = 0;\n  for (let i = 0; i < arrayofQuestions.length; i++) {\n    if (arrayofQuestions[i]._id === currentQuestionClicked) {\n      indexQuestion = i;\n      break;\n    }\n  }\n\n  // obtainlistcomments\n  let arrayofQuestionComments = arrayofQuestions[indexQuestion].comments;\n  console.log(\"this the comments in the question before\", arrayofQuestionComments);\n  arrayofQuestionComments = arrayofQuestionComments.sort(function (q1, q2) {\n    let q2Date = new Date(q2.com_date_time);\n    let q1Date = new Date(q1.com_date_time);\n    return q2Date - q1Date;\n  });\n  console.log(\"this the comments in the question\", arrayofQuestionComments);\n\n  // update the number of views\n  let updatedViews = arrayofQuestions[indexQuestion].views;\n\n  // obtain the question title\n\n  let title = arrayofQuestions[indexQuestion].title;\n\n  // obtain the number of answers\n  let numberAnswers = arrayofQuestions[indexQuestion].answers.length;\n\n  // obtain the number of votes\n\n  let numberVotes = arrayofQuestions[indexQuestion].votes;\n\n  // obtain the number of comments\n\n  let numberComments = arrayofQuestions[indexQuestion].comments.length;\n\n  // obtain the current text\n  let questionText = arrayofQuestions[indexQuestion].text;\n\n  // obtain the answerid for that question\n  let answerId = arrayofQuestions[indexQuestion].answers;\n  let sortedAnswers = arrayofAnswers.sort(function (a1, a2) {\n    let a2Date = new Date(a2.ans_date_time);\n    let a1Date = new Date(a1.ans_date_time);\n    return a2Date - a1Date;\n  });\n  let answerIdSorted = sortedAnswers.filter(obj => answerId.includes(obj._id));\n  let length = answerIdSorted.length;\n  const incrementPage = () => {\n    let currentpage = currentPage + 1;\n    if (length === 0) {\n      return;\n    }\n    if (currentpage > Math.ceil(length / 5) - 1) {\n      setCurrentPage(0);\n      return;\n    }\n    setCurrentPage(currentPage + 1);\n  };\n  const decrementPage = () => {\n    if (currentPage === 0) {\n      return;\n    }\n    setCurrentPage(currentPage - 1);\n  };\n  const handleQuestionDownvote = async e => {\n    console.log(\"1\");\n    e.preventDefault();\n    console.log(\"2\");\n    try {\n      const questionName = arrayofQuestions[indexQuestion].asked_by;\n      console.log(\"3\");\n      await axios.post(\"http://localhost:8000/downvote\", {\n        name: questionName\n      });\n      console.log(\"4\");\n    } catch (error) {\n      console.error('Error downvoting reputation:', error.message);\n    }\n  };\n  const handleQuestionUpvote = async e => {\n    e.preventDefault();\n    try {\n      const questionName = arrayofQuestions[indexQuestion].asked_by;\n      await axios.post(\"http://localhost:8000/upvote\", {\n        name: questionName\n      });\n    } catch (error) {\n      console.error('Error upvoting reputation:', error.message);\n    }\n  };\n  const handleAddQuestionComment = async e => {\n    e.preventDefault();\n    // if (reputation < 50) {\n    //     alert(\"You need at least 50 reputation to comment\");\n    //     setCurrentQuestionComment('')\n    //     return;\n    // }\n\n    if (currentQuestionComment.length > 140 || currentQuestionComment.length === 0) {\n      alert(\"Invalid comment length please try again.\");\n      setCurrentQuestionComment('');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:8000/addcommentquestion', {\n        currentQuestionComment\n      });\n      let comment = response.data;\n      let questionId = currentQuestionClicked;\n      const updateQuestion = await axios.put('http://localhost:8000/question/updatecomments', {\n        questionId,\n        comment\n      });\n      setQuestions(updateQuestion.data);\n      setCurrentQuestionComment('');\n    } catch (error) {\n      console.error('Error adding answer client:', error);\n    }\n  };\n  const newQuestionComment = event => {\n    setCurrentQuestionComment(event.target.value);\n  };\n  const handleAddAnswerComment = async () => {};\n  answerIdSorted = answerIdSorted.slice(currentPage * 5, currentPage * 5 + 5);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answerheader\",\n      children: [username !== \"Guest\" && reputation >= 50 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            marginTop: '10%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleQuestionUpvote,\n            className: \"voteButton\",\n            children: \"Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleQuestionDownvote,\n            className: \"voteButton\",\n            children: \"Down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '20%',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '5px'\n          },\n          children: [numberAnswers, \" answers\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '5px'\n          },\n          children: [updatedViews, \" views\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '5px'\n          },\n          children: [numberVotes, \" votes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '5px'\n          },\n          children: [numberComments, \" comments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '55%',\n          maxHeight: \"100%\",\n          overflow: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '10px',\n            fontWeight: 'bold'\n          },\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            paddingTop: '10px',\n            marginRight: '100px'\n          },\n          children: /*#__PURE__*/_jsxDEV(TextHyperlinks, {\n            text: questionText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tags.map((tag, index) => arrayofQuestions[indexQuestion].tags.includes(tag._id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              backgroundColor: 'grey',\n              borderRadius: '5px',\n              display: 'inline-block',\n              margin: '5px',\n              padding: '5px 10px',\n              color: 'white'\n            },\n            children: tag.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 33\n          }, this) : null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            float: 'right',\n            margin: '30px'\n          },\n          className: \"button1\",\n          onClick: handleAskQuestion,\n          children: \"Ask Questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: '90px',\n            paddingLeft: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Dateandname, {\n            item: arrayofQuestions[indexQuestion]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '15vh',\n        maxHeight: '15vh',\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"70%\",\n          maxHeight: '70%',\n          overflow: \"auto\",\n          backgroundColor: \"yellow\"\n        },\n        children: arrayofQuestionComments.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"displaycommentbox\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.com_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"30%\",\n          backgroundColor: \"green\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '6vh',\n        backgroundColor: \"blue\",\n        display: \"flex\",\n        borderBottom: \"dotted\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"30%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          style: {\n            width: \"80%\",\n            height: '5vh'\n          },\n          value: currentQuestionComment,\n          onChange: newQuestionComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginTop: '15%'\n          },\n          onClick: handleAddQuestionComment,\n          children: \"add comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: container,\n      style: {\n        height: '27vh',\n        maxHeight: '27vh',\n        overflow: \"auto\"\n      },\n      children: answerIdSorted.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayquestionbox\",\n        children: [username !== \"Guest\" && reputation >= 50 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              marginTop: '10%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleQuestionUpvote,\n              className: \"voteButton\",\n              children: \"Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleQuestionDownvote,\n              className: \"voteButton\",\n              children: \"Down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 33\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '70%',\n            marginLeft: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(TextHyperlinks, {\n              text: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '30%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'green',\n              marginLeft: '177px',\n              marginBottom: '0px'\n            },\n            children: item.ans_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Dateandnameanswer, {\n            item: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '25%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button1answer\",\n          onClick: handleAnsQuestion,\n          children: \"Answer Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"20%\",\n          height: \"50%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"hyperlinkButton\",\n          onClick: () => {\n            decrementPage();\n            handleResetScroll();\n          },\n          children: \"prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"25%\",\n          height: \"50%\"\n        },\n        children: [\"Current Page \", currentPage + 1, \"/\", length === 0 ? 1 : Math.ceil(length / 5)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"25%\",\n          height: \"50%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"hyperlinkButton\",\n          onClick: () => {\n            incrementPage();\n            handleResetScroll();\n          },\n          children: \"next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(AnswerDisplayQuestion, \"EHq4+/jae48Hh59pN8/TAAtouOU=\");\n_c = AnswerDisplayQuestion;\nconst Dateandnameanswer = ({\n  item\n}) => {\n  var date = new Date(item.ans_date_time);\n  var currentDate = new Date();\n  if ((currentDate - date) / (1000 * 60 * 60) < 24) {\n    var timeDiffSec = (currentDate - date) / 1000;\n    var timeRn = 0;\n    if (timeDiffSec < 60) {\n      timeRn = Math.floor(timeDiffSec);\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: '175px',\n          marginTop: '0px'\n        },\n        children: [\"answered \", timeRn, \" seconds ago\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 20\n      }, this);\n    } else if (timeDiffSec < 3600) {\n      timeRn = Math.floor(timeDiffSec / 60);\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: '175px',\n          marginTop: '0px'\n        },\n        children: [\"answered \", timeRn, \" minutes ago\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 20\n      }, this);\n    } else {\n      timeRn = Math.floor(timeDiffSec / 3600);\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: '175px',\n          marginTop: '0px'\n        },\n        children: [\"answered \", timeRn, \" hours ago\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 20\n      }, this);\n    }\n  } else if (date.getFullYear() === currentDate.getFullYear()) {\n    let month = date.toLocaleDateString('en-US', {\n      month: 'short'\n    });\n    let day = date.getDate();\n    let hours = String(date.getHours()).padStart(2, '0');\n    let mins = String(date.getMinutes()).padStart(2, '0');\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginLeft: '175px',\n        marginTop: '0px'\n      },\n      children: [\"answered \", month, \" \", day, \" at \", hours, \":\", mins]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 16\n    }, this);\n  } else {\n    let month = date.toLocaleDateString('en-US', {\n      month: 'short'\n    });\n    let day = date.getDate();\n    let year = date.getFullYear();\n    let hours = String(date.getHours()).padStart(2, '0');\n    let mins = String(date.getMinutes()).padStart(2, '0');\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginLeft: '175px',\n        marginTop: '0px'\n      },\n      children: [\"answered \", month, \" \", day, \",  \", year, \" at \", hours, \":\", mins]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 16\n    }, this);\n  }\n};\n_c2 = Dateandnameanswer;\nconst TextHyperlinks = ({\n  text\n}) => {\n  let splitlinks = text.split(/(\\[.*?\\]\\(.*?\\))/g);\n  const newTextlinks = splitlinks.map((part, index) => {\n    let link = part.match(/\\[(.*?)\\]\\((.*?)\\)/);\n    if (link) {\n      let bracketText = link[1];\n      let parentesesText = link[2];\n      if (bracketText.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          href: parentesesText,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: parentesesText\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          href: parentesesText,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: bracketText\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 24\n        }, this);\n      }\n    } else {\n      return part;\n    }\n  });\n  return newTextlinks;\n};\n_c3 = TextHyperlinks;\nexport default AnswerDisplayQuestion;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AnswerDisplayQuestion\");\n$RefreshReg$(_c2, \"Dateandnameanswer\");\n$RefreshReg$(_c3, \"TextHyperlinks\");","map":{"version":3,"names":["Dateandname","React","useState","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AnswerDisplayQuestion","tags","username","reputation","questions","answers","setQuestions","setAnswers","currentQuestionClicked","handleAnsQuestion","handleAskQuestion","_s","comments","setComments","useEffect","get","then","res","data","console","log","catch","error","currentPage","setCurrentPage","container","handleResetScroll","current","scrollTop","currentQuestionComment","setCurrentQuestionComment","arrayofQuestions","sort","q1","q2","q2Date","Date","asked_date_time","q1Date","arrayofAnswers","indexQuestion","i","length","_id","arrayofQuestionComments","com_date_time","updatedViews","views","title","numberAnswers","numberVotes","votes","numberComments","questionText","text","answerId","sortedAnswers","a1","a2","a2Date","ans_date_time","a1Date","answerIdSorted","filter","obj","includes","incrementPage","currentpage","Math","ceil","decrementPage","handleQuestionDownvote","e","preventDefault","questionName","asked_by","post","name","message","handleQuestionUpvote","handleAddQuestionComment","alert","response","comment","questionId","updateQuestion","put","newQuestionComment","event","target","value","handleAddAnswerComment","slice","children","className","style","display","flexDirection","marginTop","onClick","fileName","_jsxFileName","lineNumber","columnNumber","width","textAlign","paddingTop","maxHeight","overflow","fontWeight","marginRight","TextHyperlinks","map","tag","index","backgroundColor","borderRadius","margin","padding","color","float","paddingLeft","item","height","com_by","borderBottom","onChange","ref","marginLeft","marginBottom","ans_by","Dateandnameanswer","_c","date","currentDate","timeDiffSec","timeRn","floor","getFullYear","month","toLocaleDateString","day","getDate","hours","String","getHours","padStart","mins","getMinutes","year","_c2","splitlinks","split","newTextlinks","part","link","match","bracketText","parentesesText","href","rel","_c3","$RefreshReg$"],"sources":["/Users/stanleymui/pa04-crispy/client/src/components/ansdisplayquestion.js"],"sourcesContent":["import Dateandname from \"./askbydate\";\nimport React from \"react\";\nimport { useState, useRef } from 'react';\nimport axios from \"axios\";\n\nconst AnswerDisplayQuestion = ({ tags, username, reputation, questions, answers, setQuestions, setAnswers, currentQuestionClicked, handleAnsQuestion, handleAskQuestion }) => {\n    // get all comments\n    const [comments, setComments] = useState\n    useEffect(() => {\n        axios.get('http://localhost:8000/questions')\n          .then(res => {\n            setQuestions(res.data);\n            console.log(\"questions\", res.data)\n          })\n          .catch(error => {\n            console.error('Error fetching data:', error);\n          });\n      }, []);\n    \n    \n    // state for page stuff\n    const [currentPage, setCurrentPage] = useState(0);\n    const container = useRef(null);\n\n    const handleResetScroll = () => {\n        if (container.current) {\n            container.current.scrollTop = 0\n        }\n    }\n\n    const [currentQuestionComment, setCurrentQuestionComment] = useState(\"\")\n\n    let arrayofQuestions = [...questions].sort(function (q1, q2) {\n        let q2Date = new Date(q2.asked_date_time)\n        let q1Date = new Date(q1.asked_date_time)\n        return q2Date - q1Date\n    });\n    let arrayofAnswers = [...answers];\n\n    // obtain the question\n    var indexQuestion = 0;\n    for (let i = 0; i < arrayofQuestions.length; i++) {\n        if (arrayofQuestions[i]._id === currentQuestionClicked) {\n            indexQuestion = i;\n            break;\n        }\n    }\n\n    // obtainlistcomments\n    let arrayofQuestionComments = arrayofQuestions[indexQuestion].comments\n    console.log(\"this the comments in the question before\", arrayofQuestionComments)\n\n    arrayofQuestionComments = arrayofQuestionComments.sort(function (q1, q2) {\n        let q2Date = new Date(q2.com_date_time)\n        let q1Date = new Date(q1.com_date_time)\n        return q2Date - q1Date\n    });\n\n    console.log(\"this the comments in the question\", arrayofQuestionComments)\n\n    // update the number of views\n    let updatedViews = (arrayofQuestions[indexQuestion].views);\n\n    // obtain the question title\n\n    let title = (arrayofQuestions[indexQuestion].title);\n\n    // obtain the number of answers\n    let numberAnswers = arrayofQuestions[indexQuestion].answers.length\n\n    // obtain the number of votes\n\n    let numberVotes = arrayofQuestions[indexQuestion].votes\n\n    // obtain the number of comments\n\n    let numberComments = arrayofQuestions[indexQuestion].comments.length\n\n    // obtain the current text\n    let questionText = arrayofQuestions[indexQuestion].text\n\n    // obtain the answerid for that question\n    let answerId = arrayofQuestions[indexQuestion].answers\n\n    let sortedAnswers = arrayofAnswers.sort(function (a1, a2) {\n        let a2Date = new Date(a2.ans_date_time)\n        let a1Date = new Date(a1.ans_date_time)\n        return a2Date - a1Date\n    });\n\n    let answerIdSorted = sortedAnswers.filter(obj => answerId.includes(obj._id));\n\n    let length = answerIdSorted.length\n\n    const incrementPage = () => {\n        let currentpage = currentPage + 1;\n\n        if (length === 0) {\n            return\n        }\n\n        if (currentpage > Math.ceil(length / 5) - 1) {\n            setCurrentPage(0);\n            return\n        }\n        setCurrentPage(currentPage + 1);\n    }\n\n    const decrementPage = () => {\n        if (currentPage === 0) {\n            return\n        }\n        setCurrentPage(currentPage - 1);\n    }\n\n    const handleQuestionDownvote = async (e) => {\n        console.log(\"1\");\n        e.preventDefault();\n        console.log(\"2\");\n        try {\n            const questionName = arrayofQuestions[indexQuestion].asked_by;\n            console.log(\"3\");\n            await axios.post(\"http://localhost:8000/downvote\", { name: questionName });\n            console.log(\"4\");\n        } catch (error) {\n            console.error('Error downvoting reputation:', error.message);\n        }\n    };\n\n    const handleQuestionUpvote = async (e) => {\n        e.preventDefault();\n        try {\n            const questionName = arrayofQuestions[indexQuestion].asked_by;\n            await axios.post(\"http://localhost:8000/upvote\", { name: questionName });\n        } catch (error) {\n            console.error('Error upvoting reputation:', error.message);\n        }\n    };\n\n    const handleAddQuestionComment = async (e) => {\n        e.preventDefault();\n        // if (reputation < 50) {\n        //     alert(\"You need at least 50 reputation to comment\");\n        //     setCurrentQuestionComment('')\n        //     return;\n        // }\n\n        if (currentQuestionComment.length > 140 || currentQuestionComment.length === 0) {\n            alert(\"Invalid comment length please try again.\");\n            setCurrentQuestionComment('')\n            return;\n        }\n\n        try {\n            const response = await axios.post('http://localhost:8000/addcommentquestion', { currentQuestionComment })\n            let comment = response.data\n            let questionId = currentQuestionClicked\n            const updateQuestion = await axios.put('http://localhost:8000/question/updatecomments', { questionId, comment })\n            setQuestions(updateQuestion.data)\n            setCurrentQuestionComment('')\n        } catch (error) {\n            console.error('Error adding answer client:', error);\n        }\n    }\n\n    const newQuestionComment = (event) => {\n        setCurrentQuestionComment(event.target.value)\n    }\n\n    const handleAddAnswerComment = async () => {\n\n    }\n\n\n    answerIdSorted = answerIdSorted.slice(currentPage * 5, (currentPage * 5) + 5)\n\n    return (\n        <>\n            <div className=\"answerheader\">\n                {username !== \"Guest\" && reputation >= 50 && (\n                    <>\n                        <div style={{ display: 'flex', flexDirection: 'column', marginTop: '10%' }}>\n                            <button onClick={handleQuestionUpvote} className=\"voteButton\">Up</button>\n                            <button onClick={handleQuestionDownvote} className=\"voteButton\">Down</button>\n                        </div>\n                    </>\n                )}\n                <div style={{ width: '20%', textAlign: 'center' }}>\n                    <p style={{ paddingTop: '5px' }}>{numberAnswers} answers</p>\n                    <p style={{ paddingTop: '5px' }}>{updatedViews} views</p>\n                    <p style={{ paddingTop: '5px' }}>{numberVotes} votes</p>\n                    <p style={{ paddingTop: '5px' }}>{numberComments} comments</p>\n\n                </div>\n                <div style={{ width: '55%', maxHeight: \"100%\", overflow: \"auto\" }}>\n                    <p style={{ paddingTop: '10px', fontWeight: 'bold' }}>{title}</p>\n                    <p style={{ paddingTop: '10px', marginRight: '100px' }}><TextHyperlinks text={questionText} /></p>\n                    <p>\n                        {tags.map((tag, index) => (\n                            arrayofQuestions[indexQuestion].tags.includes(tag._id) ? (\n                                <span key={index} style={{ backgroundColor: 'grey', borderRadius: '5px', display: 'inline-block', margin: '5px', padding: '5px 10px', color: 'white' }}>\n                                    {tag.name}\n                                </span>\n                            ) : null\n                        ))}\n                    </p>\n                </div>\n                <div>\n                    <button style={{ float: 'right', margin: '30px' }} className=\"button1\" onClick={handleAskQuestion}>Ask Questions</button>\n                    <div style={{ paddingTop: '90px', paddingLeft: '40px' }}>\n                        <Dateandname item={arrayofQuestions[indexQuestion]} />\n                    </div>\n                </div>\n            </div>\n            <div style={{ height: '15vh', maxHeight: '15vh', display: \"flex\", flexDirection: \"column\" }}>\n                <div style={{ height: \"70%\", maxHeight: '70%', overflow: \"auto\", backgroundColor: \"yellow\" }}>\n                    {arrayofQuestionComments.map((item, index) => (\n                        <div className=\"displaycommentbox\" key = {index}>\n                            <p>{item.com_by}</p>\n                        </div>\n                    ))}\n                </div>\n                <div style={{ height: \"30%\", backgroundColor: \"green\" }}>\n\n                </div>\n            </div>\n            <div style={{ height: '6vh', backgroundColor: \"blue\", display: \"flex\", borderBottom: \"dotted\" }}>\n                <div style={{ width: \"30%\" }}>\n                    <textarea style={{ width: \"80%\", height: '5vh' }} value={currentQuestionComment} onChange={newQuestionComment}></textarea>\n                </div>\n                <div>\n                    <button style={{ marginTop: '15%' }} onClick={handleAddQuestionComment}>add comment</button>\n                </div>\n            </div>\n            <div ref={container} style={{ height: '27vh', maxHeight: '27vh', overflow: \"auto\" }}>\n                {answerIdSorted.map((item, index) => (\n                    <div className=\"displayquestionbox\" key={index}>\n                        {username !== \"Guest\" && reputation >= 50 && (\n                            <>\n                                <div style={{ display: 'flex', flexDirection: 'column', marginTop: '10%' }}>\n                                    <button onClick={handleQuestionUpvote} className=\"voteButton\">Up</button>\n                                    <button onClick={handleQuestionDownvote} className=\"voteButton\">Down</button>\n                                </div>\n                            </>\n                        )}\n                        <div style={{ width: '70%', marginLeft: '10px' }}>\n                            <p><TextHyperlinks text={item.text} /></p>\n                        </div>\n                        <div style={{ width: '30%' }}>\n                            <p style={{ color: 'green', marginLeft: '177px', marginBottom: '0px' }}>{item.ans_by}</p>\n                            <Dateandnameanswer item={item} />\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <div style={{ display: \"flex\" }}>\n                <div style={{ width: '25%' }}><button className=\"button1answer\" onClick={handleAnsQuestion}>Answer Question</button></div>\n                <div style={{ width: \"20%\", height: \"50%\" }}><button className=\"hyperlinkButton\" onClick={() => { decrementPage(); handleResetScroll(); }}>prev</button></div>\n                <div style={{ width: \"25%\", height: \"50%\" }}>Current Page {currentPage + 1}/{length === 0 ? 1 : Math.ceil(length / 5)}</div>\n                <div style={{ width: \"25%\", height: \"50%\" }}><button className=\"hyperlinkButton\" onClick={() => { incrementPage(); handleResetScroll(); }}>next</button></div>\n            </div>\n        </>\n    )\n}\n\nconst Dateandnameanswer = ({ item }) => {\n    var date = new Date(item.ans_date_time)\n    var currentDate = new Date();\n\n    if (((currentDate - date) / (1000 * 60 * 60)) < 24) {\n        var timeDiffSec = (currentDate - date) / 1000;\n        var timeRn = 0\n        if (timeDiffSec < 60) {\n            timeRn = Math.floor(timeDiffSec)\n            return <p style={{ marginLeft: '175px', marginTop: '0px' }}>answered {timeRn} seconds ago</p>\n        } else if (timeDiffSec < 3600) {\n            timeRn = Math.floor(timeDiffSec / 60)\n            return <p style={{ marginLeft: '175px', marginTop: '0px' }}>answered {timeRn} minutes ago</p>\n        } else {\n            timeRn = Math.floor(timeDiffSec / 3600)\n            return <p style={{ marginLeft: '175px', marginTop: '0px' }}>answered {timeRn} hours ago</p>\n        }\n    } else if (date.getFullYear() === currentDate.getFullYear()) {\n        let month = date.toLocaleDateString('en-US', { month: 'short' });\n        let day = date.getDate()\n        let hours = String(date.getHours()).padStart(2, '0');\n        let mins = String(date.getMinutes()).padStart(2, '0');\n        return <p style={{ marginLeft: '175px', marginTop: '0px' }}>answered {month} {day} at {hours}:{mins}</p>\n    } else {\n        let month = date.toLocaleDateString('en-US', { month: 'short' });\n        let day = date.getDate()\n        let year = date.getFullYear()\n        let hours = String(date.getHours()).padStart(2, '0');\n        let mins = String(date.getMinutes()).padStart(2, '0');\n        return <p style={{ marginLeft: '175px', marginTop: '0px' }}>answered {month} {day},  {year} at {hours}:{mins}</p>\n    }\n\n}\n\nconst TextHyperlinks = ({ text }) => {\n    let splitlinks = text.split(/(\\[.*?\\]\\(.*?\\))/g);\n    const newTextlinks = splitlinks.map((part, index) => {\n        let link = part.match(/\\[(.*?)\\]\\((.*?)\\)/);\n        if (link) {\n            let bracketText = link[1];\n            let parentesesText = link[2];\n\n            if (bracketText.length === 0) {\n                return <a key={index} href={parentesesText} target=\"_blank\" rel=\"noreferrer\">{parentesesText}</a>\n            } else {\n                return <a key={index} href={parentesesText} target=\"_blank\" rel=\"noreferrer\">{bracketText}</a>\n            }\n        } else {\n            return part\n        }\n    });\n    return newTextlinks\n}\n\nexport default AnswerDisplayQuestion;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}